


## 도커란?

- 컨테이너를 만들고 관리하는 일종의 툴
- 그럼 컨테이너는?
    - 소프트웨어 유닛, 코드가 포함된 패키지, 코드를 실행하는 종속성
    - 동일한 환경에서 정확히 동일한 버전의 어플리케이션을 실행할 수 있음
    - 왜 컨테이너라고 하나? 화물 수송하는데 쓰이는건데 -> 도커 컨테이너도 비슷한 개념. 화물 컨테이너가 어떤 것을 담아 보관, 격리하고 standalone한 상태로 어딘가에 실리는 점이 유사함
    - 컨테이너 개념 자체는 도커에서 나온게 아님. 최근의 운영 체제에선 기본적으로 내장되어 있는 개념. 도커는 이런 컨테이너를 생성, 관리하는 것
    - 컨테이너를 굳이 안 만들어도 되지만, 이게 표준임. 개발을 정말 단순하게 만들어주기 때문

- 그래서 정확히 도커, 컨테이너가 왜 중요한건데?
    - 내가 개발한 환경과 호스트 되어야 하는 서버의 환경은 다를 수 있음. 또는 회사의 각 팀마다 다른 개발 환경인 경우.
    - 이 환경을 같게 만드는 것이 매우 중요하며 도커, 컨테이너가 이걸 가능케 함
    - 강사는 혼자 작업할 때도 필요할 수 있다고 함. 각 프로젝트마다 개발 환경이 달라 충돌할 수 있음

- 컨테이너라는 개념은 가상환경, 가상머신 등과 어떻게 다른걸까?
- 신기하게 다음 강의에서 이걸 다루네

- 가상머신이 해결책이 될 수 있긴 함. 단점이라면?
    - 오버헤드: 여러 가상머신은 각각 하나의 컴퓨터와 같음. 이게 여러개 쌓이면 그만큼 리소스 많이 잡아먹음
    - 공유하려면 결국 하나의 컴퓨터를 보여줘야 하는거라 까다로움

- 컨테이너는 이걸 어떻게 해결하는데?
    - 필요한 공간만 쓰고, 공유하기 쉬운 등의 특징은 알겠는데 이게 어떻게 가능한걸까?
- 이미지는 컨테이너와 뭐가 다른걸까

## 도커 설정

- docker.com 에서 도커 프로그램 다운 (Docker Desktop)
    - Desktop이 안되면 Docker Toolbox가 있음
    - 이 두개는 Linux가 아닌 운영 체제에 도커를 사용하기 위한 툴
    - 리눅스는 도커가 사용하는 기술과 컨테이너를 기본적으로 지원함

- 당연한거였지만 도커로 뭔가 하려면 도커가 실행 중인지 확인해야 함z
    - 현재 진행 중인 프로젝트에서 도커 처음 써보고 있는데, 도커 데스크탑 키지도 않고 명령어로 도커 이미지 띄우려니까 에러가 난 부끄러운 경험이..

- 도커를 설치했다는 것은 아래 요소를 포함함
    - Docker Engine: 내 운영 체제가 컨테이너 개념을 지원하지 않는 경우를 대비해 도커를 실행하는데 필요한 리눅스를 호스팅하는 가상 머신을 실행하는 엔진
    - Docker Desktop: 도커가 계속 실행 중인지 감시(?)하는 데몬이라는 것과 CLI를 포함
    - Docker Hub: 클라우드, 웹에서 이미지 호스팅해서 다른 곳에 공유할 수 있게 해주는 서비스
    - Docker Compose: 도커를 기반으로 하는 도구인데, 더 복잡한 컨테이너를 관리하는 도구. 이건 쿠버네티스와 뭐가 다른걸까? 비슷한 역할을 한다고 들었는데. 이건 좀 더 배포에 관련된 도구인가?


- 이미지 생성해야 그 위에 컨테이너 생성할 수 있음
- 이미지를 생성하기 위해 Dockerfile 이란 것을 활용할 수 있음
    - 어떤 것을 기본 이미지로 두고, 작업 경로, 패키지 등을 설치해서 이미지를 만듦
    - 이미지 만드는게 시간이 좀 걸림
    - 이 이미지의 결과물에 대한 ID를 얻음
    - 이 ID를 run 시켜 이 이미지를 기반으로 컨테이너를 실행시킬 수 있음
    - 컨테이너에는 포트가 있는데, 이걸 로컬이나 호스트 서버와 연결시켜줘야 둘 사이 통신할 수 있음. `docker run -p 3000:3000 {container id}`



